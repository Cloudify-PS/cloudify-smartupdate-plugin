tosca_definitions_version: cloudify_dsl_1_3


imports:
  - http://cloudify.co/spec/cloudify/6.0.0/types.yaml
  - plugin:cloudify-smartupdate-plugin?version=1.1


node_templates:
  smart1:
    type: cloudify.nodes.SmartServiceComponent
    properties:
      resource_config:
        blueprint:
          external_resource: True
          id: basic
        deployment:
          id: basic

  smart2:
    type: cloudify.nodes.SmartServiceComponent
    properties:
      resource_config:
        blueprint:
          external_resource: True
          id: basic_update
        deployment:
          id: basic2
    relationships:
      - type: cloudify.relationships.smart_connected_to
        target: smart1
